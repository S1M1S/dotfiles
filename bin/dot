#!/bin/bash
DF="$HOME/dotfiles"

clink() {
  echo "cleaning up: $1"
  rm -rf "$1" &> /dev/null
  ln -s "$DF/$1" $1
}

if [[ "$1" == "link" ]]; then
  cd "$HOME"

  clink ".vim"
  clink ".vimrc"
  clink ".zshrc"
  clink ".tmux.conf"
  clink "bin"

  # setup kitty
  cd "$HOME/.config"
  if ! [[ -d "kitty" ]]; then
    mkdir kitty &> /dev/null
  fi
  cd kitty
  rm kitty.conf &> /dev/null
  ln -s "$DF/.config/kitty/kitty.conf" ./kitty.conf
elif [[ "$1" == "update" || "$1" == "up" ]]; then
  cd "$DF"
  git pull
else
  echo "USAGE: "
  echo "dot link    -> make symlinks in home directory"
  echo "dot update  -> run git pull on the dotfile directory"
fi

